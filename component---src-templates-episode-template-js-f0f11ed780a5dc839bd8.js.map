{"version":3,"sources":["webpack:///./src/components/Participant.js","webpack:///./src/components/Disqus.js","webpack:///./src/templates/EpisodeTemplate.js","webpack:///./src/components/EpisodeListItem.js"],"names":["Guest","render","this","props","displayName","socialNetwork","avatarUrl","avatarAndName","alt","src","css","href","target","rel","Component","hasLoaded","Disqus","componentDidMount","window","document","shortname","urlDomain","url","identifier","title","onLoad","disqus_config","script","createElement","async","onload","body","appendChild","maybeLoadDisqusScript","DISQUS","reset","reload","config","location","page","protocol","id","defaultProps","EpisodeTemplate","data","episodesJson","allParticipantsJson","file","allFile","description","embedded","fields","episodeNumber","slug","hosts","guests","content","console","log","participants","edges","forEach","node","participantId","map","edge","find","name","publicURL","image","Layout","Helmet","SEO","postSlug","isBlogPost","EpisodeListItem","linked","height","width","frameBorder","scrolling","host","participant","key","guest","length","Links","links","link","date","Container","Dates","DateTime","fromISO","setLocale","toLocaleString","DATE_FULL","formatDate","start","titleCss","to","Subtitle"],"mappings":"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","file":"component---src-templates-episode-template-js-f0f11ed780a5dc839bd8.js","sourcesContent":["import React, { Component } from 'react';\n\nimport css from '@emotion/css';\n\nexport default class Guest extends Component {\n  render() {\n    const { displayName, socialNetwork, avatarUrl } = this.props;\n\n    const avatarAndName = (\n      <>\n        <img\n          alt={displayName}\n          src={avatarUrl}\n          css={css`\n            border-radius: 50%;\n            width: 100px;\n            margin: 0 0 10px;\n          `}\n        />\n        <p css={css`\n          margin: 0;\n        `}>\n          {displayName}\n        </p>\n      </>\n    );\n\n    if (socialNetwork) {\n      return (\n        <a\n          href={socialNetwork}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          css={css`\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            box-shadow: none;\n            & + & {\n              margin-left: 30px;\n            }\n            &:hover {\n              text-decoration: underline;\n            }\n          `}\n        >\n          {avatarAndName}\n        </a>\n      );\n    }\n\n    return (\n      <div\n        css={css`\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          box-shadow: none;\n          & + & {\n            margin-left: 30px;\n          }\n        `}\n      >\n        {avatarAndName}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { css } from '@emotion/core';\n\nlet hasLoaded = false;\nfunction maybeLoadDisqusScript(shortname, onLoad) {\n  if (hasLoaded) {\n    onLoad();\n    return;\n  }\n  window.disqus_config = function() {};\n\n  const script = document.createElement('script');\n  script.src = `//${shortname}.disqus.com/embed.js`;\n  script.async = true;\n  script.onload = onLoad;\n  document.body.appendChild(script);\n  hasLoaded = true;\n}\n\nexport default class Disqus extends Component {\n  static defaultProps = {\n    shortname: 'barradevida',\n    urlDomain: 'barradevida.com.br',\n    url: '',\n    identifier: '',\n    title: '',\n  };\n\n  componentDidMount() {\n    if (typeof window !== 'undefined' && window.document) {\n      const { shortname, urlDomain, url, identifier, title } = this.props;\n\n      maybeLoadDisqusScript(shortname, () => {\n        window.DISQUS.reset({\n          reload: true,\n          config: function() {\n            const { location } = window;\n            this.page.url = `${location.protocol}//${urlDomain}/${url}`;\n            this.page.identifier = identifier;\n            this.page.title = title;\n          },\n        });\n      });\n    }\n  }\n\n  render() {\n    return <div id=\"disqus_thread\" css={css`\n      margin-top: 3.64rem;\n    `} />;\n  }\n}\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport Layout from '../components/Layout';\nimport EpisodeListItem from '../components/EpisodeListItem';\nimport Participant from '../components/Participant';\nimport Disqus from '../components/Disqus';\nimport SEO from '../components/SEO';\nimport { css } from '@emotion/core';\n\nexport default function EpisodeTemplate({ data: { episodesJson, allParticipantsJson, file, allFile } }) {\n  const {\n    title,\n    description,\n    embedded,\n    fields: { episodeNumber, slug },\n    hosts,\n    guests,\n    content,\n  } = episodesJson;\n\n  console.log(allParticipantsJson);\n\n  const participants = {};\n  allParticipantsJson.edges.forEach(({node}) => {\n    const id = node.fields.participantId;\n    const avatarUrl = allFile.edges.map(edge => edge.node).find(({name}) => name === id).publicURL;\n    participants[id] = {...node, avatarUrl};\n  });\n\n  const {\n    publicURL: image\n  } = file ?? {};\n\n  return (\n    <Layout>\n      <Helmet title={`E${episodeNumber}: ${title}`} />\n      <SEO\n        title={title}\n        description={`Episódio: ${episodeNumber}`}\n        postSlug={slug}\n        image={image}\n        isBlogPost\n      />\n      <EpisodeListItem {...episodesJson} linked={false} />\n      <p>\n        {description}\n      </p>\n      <iframe\n        src={embedded}\n        height=\"100%\"\n        width=\"100%\"\n        frameBorder=\"0\"\n        scrolling=\"no\"\n        css={{margin:0}}>\n      </iframe>\n      <h2>Hosts</h2>\n      <div\n        css={css`\n          display: flex;\n          flex-direction: row;  \n        `}\n      >\n        {hosts.map(host => participants[host]).map(participant => (\n          <Participant key={participant} {...participant} />\n        ))}\n      </div>\n      {guests && (\n        <>\n          <h2>Participação Especial</h2>\n          <div\n            css={css`\n              display: flex;\n              flex-direction: row;  \n            `}\n          >\n            {guests.map(guest => participants[guest]).map(participant => (\n              <Participant key={participant} {...participant} />\n            ))}\n          </div>\n        </>\n      )}\n      {content?.length !== 0 && (\n        <>\n          <h2>Links do Episódio</h2>\n          <Links content={content} />\n        </>\n      )}\n      <Disqus identifier={slug} url={`episode/${episodeNumber}`} />\n    </Layout>\n  );\n}\n\nconst Links = ({ content }) => (\n  <ul>\n    {content.map(({ name, links }) => (\n      <li key={name}>\n        {name}\n        <ul>\n          {links.map(link => (\n            <li key={link}>\n              <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n                {link}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </li>\n    ))}\n  </ul>\n);\n\nexport const pageQuery = graphql`\n  query EpisodeByNumber($episodeNumber: String!) {\n    episodesJson(fields: { episodeNumber: { eq: $episodeNumber } }) {\n      title\n      description\n      embedded\n      fields {\n        episodeNumber\n        slug\n      }\n      date {\n        start\n      }\n      hosts\n      guests\n      content {\n        name\n        links\n      }\n    }\n    allParticipantsJson {\n      edges {\n        node {\n          fields {\n            participantId\n          }\n          displayName\n          fullName\n          socialNetwork\n        }\n      }\n    }\n    allFile(filter: {sourceInstanceName: {eq: \"avatars\"}}) {\n      edges {\n        node {\n          publicURL\n          name\n        }\n      }\n    }\n    file(sourceInstanceName: {eq: \"thumbnails\"}, name: {eq: $episodeNumber}){\n      publicURL\n    }\n  }\n`;\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport { DateTime } from 'luxon';\nimport { css } from '@emotion/core';\nimport styled from '@emotion/styled';\n\nexport default ({\n  linked = true,\n  fields: { slug, episodeNumber },\n  title,\n  date,\n}) => {\n  return (\n    <Container>\n      <Dates>\n        {formatDate(date.start)}\n      </Dates>\n      {linked ? (\n        <h3 css={titleCss}>\n          <Link to={slug}>{title}</Link>\n        </h3>\n      ) : (\n        <h1 css={titleCss}>{title}</h1>\n      )}\n\n      <Subtitle>Episódio: {episodeNumber}</Subtitle>\n    </Container>\n  );\n};\n\nconst Container = styled('div')`\n  margin: 40px 0;\n`;\n\nconst Dates = styled('div')`\n  font-size: 0.88rem;\n`;\n\nconst titleCss = css`\n  margin: 0;\n`;\n\nconst Subtitle = styled('span')`\n  font-size: 0.8rem;\n`;\n\nfunction formatDate(date) {\n  return DateTime.fromISO(date).setLocale('pt-BR').toLocaleString(DateTime.DATE_FULL);\n}\n"],"sourceRoot":""}